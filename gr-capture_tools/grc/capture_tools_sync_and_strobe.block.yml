# auto-generated by grc.converter

id: capture_tools_sync_and_strobe
label: sync_and_strobe
category: '[capture_tools]'

parameters:
-   id: sps
    label: Samples per symbol
    dtype: float
-   id: npreamb
    label: N preamble
    dtype: int
-   id: syncword
    label: Sync word (list)
    dtype: int_vector
-   id: strobe_offset
    label: Strobe offset
    dtype: int
    default: '7'
-   id: preamble_timeout
    label: Preamble timeout
    dtype: int
    default: '50'
-   id: n_to_catch
    label: N to catch
    dtype: int
    default: '400'
-   id: spsmargin
    label: Sample per symbol margin
    dtype: float
    default: '7'
-   id: min_swing
    label: Minimum swing
    dtype: float
    default: '0.1'
-   id: hysteresis
    label: Hysteresis
    dtype: float
    default: '0.0'
-   id: decim_in_front
    label: Decimation in front (used to calculate offset only)
    dtype: int
    default: '1'
-   id: preamble_longer
    label: preamble_longer
    dtype: int
    default: '1'
-   id: also_match_inverted
    label: also_match_inverted
    dtype: bool
    default: 'False'
    options: ['True', 'False']
    option_labels: ['Yes', 'No']
-   id: name
    label: 'Name'
    dtype: string
    default: ''
-   id: min_mag
    label: 'Minimum magnitude'
    dtype: float
    default: '0.0'

inputs:
-   domain: stream
    dtype: float
-   label: in_mag
    domain: stream
    dtype: float
    optional: true

outputs:
-   domain: stream
    dtype: float
-   label: out_avg
    domain: stream
    dtype: float
    optional: true
-   domain: message
    id: packets
    optional: true

templates:
    imports: from gnuradio import capture_tools
    make: |-
        capture_tools.sync_and_strobe(${sps}, ${npreamb})
        self.${id}.set_strobe_offset(${strobe_offset})
        self.${id}.set_preamble_timeout(${preamble_timeout})
        self.${id}.set_n_to_catch(${n_to_catch})
        self.${id}.set_spsmargin(${spsmargin})
        self.${id}.set_hysteresis(${hysteresis})
        self.${id}.set_decim_in_front(${decim_in_front})
        self.${id}.set_min_swing(${min_swing})
        self.${id}.set_sync_word(${syncword})
        self.${id}.set_preamble_longer(${preamble_longer})
        self.${id}.set_also_match_inverted(${also_match_inverted})
        self.${id}.set_name(${name})
        self.${id}.set_min_mag(${min_mag})
    callbacks:
    - self.${id}.set_also_match_inverted(${also_match_inverted})
    - self.${id}.set_preamble_longer(${preamble_longer})
    - self.${id}.set_sps(${sps})
    - self.${id}.set_sync_word(${syncword})
    - self.${id}.set_strobe_offset(${strobe_offset})
    - self.${id}.set_preamble_timeout(${preamble_timeout})
    - self.${id}.set_n_to_catch(${n_to_catch})
    - self.${id}.set_spsmargin(${spsmargin})
    - self.${id}.set_hysteresis(${hysteresis})
    - self.${id}.set_decim_in_front(${decim_in_front})
    - self.${id}.set_min_swing(${min_swing})
    - self.${id}.set_min_mag(${min_mag})

file_format: 1
