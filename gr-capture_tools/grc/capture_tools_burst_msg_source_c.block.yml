# auto-generated by grc.converter

id: capture_tools_burst_msg_source_c
label: burst_msg_source_c
category: '[capture_tools]'

parameters:
-   id: n
    label: Num inputs
    dtype: int
    hide: part
-   id: repeat
    label: Repeat last
    dtype: bool
    default: 'False'
-   id: round_factor
    label: Round factor
    dtype: float
    default: '1.0'
-   id: round_add
    label: Round add
    dtype: float
    default: '0.0'
-   id: n_zeros
    label: N zeros
    dtype: int
    default: '0'
-   id: mag_threshold
    label: Magnitude threshold
    dtype: float
    default: '-9999'
-   id: min_frequency
    label: Min frequency
    dtype: float
    default: '-1'
-   id: max_frequency
    label: Max frequency
    dtype: float
    default: 1e12
-   id: start_button
    label: Connect to start button
    dtype: int
    default: start_button
-   id: stop_button
    label: Connect to stop button
    dtype: int
    default: stop_button
-   id: get_next_button
    label: Connect to get button
    dtype: int
    default: get_next_button
-   id: save_current_button
    label: Connect to save button
    dtype: int
    default: save_current_button

inputs:
-   domain: message
    id: burst
    multiplicity: ${ n }

outputs:
-   domain: stream
    dtype: complex
-   domain: message
    id: handled
    multiplicity: ${ n }

templates:
    imports: import capture_tools
    make: |-
        capture_tools.burst_msg_source_c(${n})
        self.${id}.set_repeat(${repeat})
        self.${id}.set_n_zeros(${n_zeros})
        self.${id}.set_min_freq(${min_frequency})
        self.${id}.set_max_freq(${max_frequency})
        self.${id}.set_mag_threshold(${mag_threshold})
        self.${id}.set_round_add(${round_add})
        self.${id}.set_round_factor(${round_factor})
    callbacks:
    - self.${id}.set_round_factor(${round_factor})
    - self.${id}.set_round_add(${round_add})
    - self.${id}.set_n_zeros(${n_zeros})
    - self.${id}.set_min_freq(${min_frequency})
    - self.${id}.set_max_freq(${max_frequency})
    - self.${id}.set_mag_threshold(${mag_threshold})
    - self.${id}.set_start(${start_button})
    - self.${id}.set_stop(${stop_button})
    - self.${id}.set_get_next(${get_next_button})
    - self.${id}.set_save_current(${save_current_button})

file_format: 1
